Aws:

1. pornim server pe Aws
2. folosim putty pentru ca crea conexiunea
3.1. folosim win scp pentru a pune fisierele cu aplicatia pe server
3.2. punem fisierele pe server
4. rulam comenzile :
		
    : sudo yum update
    : sudo yum install yum-utils device-mapper-persistent-data lvm2
    : sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
    : sudo yum install docker-ce
    : sudo yum install maven
		
6. pornim dockerul                      : sudo systemctl start docker
7. verificam daca a pornit serviciul	: sudo systemctl status docker

8. intram din putty in folderul de backend 
cd School_2020//java-school-2020-backend_8/java-school-2020-backend_8/BackEnd8
9. instalam meaven  :mvn clean install
10. in cazul in care nu am pus fisierul "dockerFile_backend" in winScp, le pune acum
11. cream containerul ( asa-zisa masina virtuala) docker fileul nostru  : 
sudo docker build -t backend:v2 -f dockerfile_backend .
12. rulam containerul: 
sudo docker run -d -p 8080:8080 backend:v2
                        -d= sa ruleze in background
                        -p= porturile   ( primul e portul nsotru, iar al 2 lea este portul pe acre va fi aplicatia)
13. Verificam daca a pornit serverul ruland : curl http://localhost:8080
14. Pe aws: la instanta noastra > security groups > inbound rules > edit inbound > portul 8080, source anywhere




Pana aici am facut containerul de backend


Intram in Folderul de frontend:
cd School_2020/FrontEnd_v1/FrontEnd_v1


Acum facem containerul de frontend ( are portul 4200) unde avem pasi asemanatori ca la backend:
15. cream containerul ( asa-zisa masina virtuala) docker file-ul nostru  : 
sudo docker build -t frontend:v2 -f Dockerfile_frontend .
16. rulam containerul: 
sudo docker run -d -p 4200:4200 frontend:v2
17. Pe aws: la instanta noastra > security groups > inbound rules > edit inbound > portul 4200, source anywhere

OBS: sudo docker ps pentru a vedea docker urile care ruleaza

18. rulam frontendul pe portul 80:4200:
sudo docker run -d -p 80:4200 frontend:v2



Pentru instalare docker compose
		
sudo curl -L "https://github.com/docker/compose/releases/download/1.25.5/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
    
sudo chmod +x /usr/local/bin/docker-compose

testam daca s-a instalat ruland :
docker-compose version
 
instalam git pe server : sudo yum install git
 

